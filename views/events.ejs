<!DOCTYPE html>
<html>

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116236740-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-116236740-2');
</script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title><%= category.toUpperCase() %> | UTSAV</title>

  <!-- Bootstrap CSS CDN -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <!-- Our Custom CSS -->
  <link rel="stylesheet" href="../events/css/style.css" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,700|Roboto+Condensed:700" rel="stylesheet">

   <link href="https://fonts.googleapis.com/css?family=Sigmar+One" rel="stylesheet"> 
  <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/solid.js" integrity="sha384-+Ga2s7YBbhOD6nie0DzrZpJes+b2K1xkpKxTFFcx59QmVPaSA8c7pycsNaFwUK6l" crossorigin="anonymous"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/fontawesome.js" integrity="sha384-7ox8Q2yzO/uWircfojVuCQOZl+ZZBg2D2J5nkpLqzH1HY0C1dHlTKIbpRz/LG23c" crossorigin="anonymous"></script>


<style>
.s_list {
  width: 500px;
  margin: 20px auto;
}
/* list styles */
.s_ol {
  list-style: none;

}
.s_ol li {
  font: bold 20pt helvetica, arial, sans-serif;
  position: relative;
  margin-bottom: 10px;
}
.s_ol li p {
  font: 15pt helvetica, arial, sans-serif;
  padding-left: 60px;
}
.s_ol span {
  position: absolute;
  line-height: 25px;
  color:#ffd9a2;
}
  
.rules{
  font-weight: 30;
}
#main_1{
  display:none;
}

.tablinks{
width:300px;
  /*background: rgb(229, 162, 62, 0.5);*/
  color:white;
  /*background: #d26d1a;*/


}
.active{
/*border-style: solid;*/
/*border-radius: 10px;*/
/*width: 200px;*/
width:300px;


/*margin-left:10px;*/
/*background: #d26d1a;*/
/*background:#e5a23e;*/
/*background: #000000;*/
/*background: rgb(229, 162, 62, 0.5);*/
background: linear-gradient(to right, rgba(229, 162, 62, 1), rgba(229, 162, 62, 0));
  color:#111111;
/*border-radius: 50px;*/
}
main{
  display: none;
}


a:hover, a:visited, a:link, a:active
{
    text-decoration: none;
}


.hd{
      /*text-transform: uppercase;*/
      /*font-weight: bold;*/
      color:#ffb445;
      font-family: 'Sigmar One', cursive;

    }


li {
  font-weight: bold;
}

ul {
  list-style-type: none;
}
/*
body {
  display: flex;
  justify-content: center;
  align-items: center;
}

body {
  width: 100%;
  height: 90vh;
}*/

.button {
  display: inline-block;
  /*width: 200px;*/
  min-width: 200px;

  /*margin: 0 auto;*/
  margin-left:15px;
  margin-bottom: 10px;
  overflow: hidden;
  position: relative;
  transform: translatez(0);
  text-decoration: none;
  box-sizing: border-box;
  font-size: 24px;
  font-weight: normal;
  box-shadow: 0 9px 18px rgba(0,0,0,0.2);
}

.instagram {
  text-align: center;
  border-radius: 3px;
  padding: 20px;
  color: #A62A2A;
  background: #ffb445;
  transition: all 0.2s ease-out 0s;
}

.gradient {
  display: block;
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
  bottom: auto;
  margin: auto;
  z-index: -1;
  background: radial-gradient(90px circle at top center, rgba(238,88,63,.8) 30%, rgba(255,255,255,0));
  transition: all 0s ease-out 0s;
  transform: translatex(-140px);
  animation: 18s linear 0s infinite move;
}
.more{
    background: #A62A2A;
  color: #ffb445;
}
@keyframes move {
  0% {
    transform: translatex(-140px);
  }
  25% {
    transform: translatex(140px);
    opacity: 0.3;
  }
  50% {
    transform: translatex(140px);
    opacity: 1;
    background: radial-gradient(90px circle at bottom center, rgba(238,88,63,.5) 30%, rgba(255,255,255,0));
  }
  75% {
    transform: translatex(-140px);
    opacity: 0.3;
  }
  100% {
    opacity: 1;
    transform: translatex(-140px);
    background: radial-gradient(90px circle at top center, rgba(238,88,63,.5) 30%, rgba(255,255,255,0));
  }
}
</style>


<script type="text/javascript">

  function openTab(evt, content_id) {
    // alert(content_id);
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }

    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the link that opened the tab
    document.getElementById(content_id).style.display = "block";
    evt.currentTarget.className += " active";

    closeBar();
} 

window.onload = function(){
    var hash = (window.location.hash).replace('#', '');
    if ((hash.length == 0 || parseInt(hash)<1) || parseInt(hash)><%= events.length %>) {

        //no hash do something
    }
    else {
      
        closeBar();
         tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }

        tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById('main_'+hash).style.display = "block";
    document.getElementById('tab_'+hash).className += " active";

  
        //else do something with hash
    }
}
</script>

</head>

<body>

<img src="https://user-images.githubusercontent.com/11242541/38202593-e5b543f6-36b9-11e8-8893-9f492650f2fc.jpg" id="bg" alt="">

  <input type="checkbox" id="navcheck" role="button" title="menu">
  <label for="navcheck" aria-hidden="true" title="menu">
    <span class="burger">
      <span class="bar">
        <span class="visuallyhidden">Menu</span>
      </span>
    </span>
  </label>
  <nav id="menu">


    
    





<a href="/" class="tablinks" style="background:linear-gradient(to right, rgba(166, 42, 42, 1), rgba(229, 162, 62, 0));">HOME</a>
    <a href="/events"  class="tablinks" style="background:linear-gradient(to right, rgba(166, 42, 42, 1), rgba(229, 162, 62, 0));">EVENTS</a>

                       <% var i=0; events.forEach(function(event){ i++; %>



    <a href="#" onclick="openTab(event, 'main_<%=i%>')" id="tab_<%=i%>" class="tablinks"><%= event.name %></a>
       <% }); %>








  </nav>


    <% var i=0; events.forEach(function(event){ i++; %>
  <main id="main_<%=i%>" class="tabcontent">
    <article class="content">
      <h1><%=event.name%></h1>
      <p><strong><%=event.desc%></strong></p>
          <% if(event.rnr.length){ %>

      <h2 class="hd"><i class="fas fa-align-left"></i> Rules</h2>
    <ol class="s_ol">
           <% var j = 0, num = 0; event.rnr.forEach(function(rule){ j++; if(j<10){ num = "0" + j;} else {num = j; }%>
<li><span><%= num %></span><p><%= rule %></p></li>
       <% }); %>

    </ol>

    <% } %>

    <% if(event.fee.length){ %>

        <h2 class="hd"><i class="fas fa-rupee-sign"></i> Registration Fee</h2>

        <ul>
<% event.fee.forEach(function(f){ %>
<li><%= f %></li>
       <% }); %>
     </ul>

<% } %>
<% if(event.prize.length){ %>


        <h2 class="hd"><i class="fas fa-trophy"></i> Prize</h2>

        <ul>
<% event.prize.forEach(function(f){ %>
<li><%= f %></li>
       <% }); %>
     </ul>

<% } %>

<% if(event.contacts.length){ %>

             <h2 class="hd"><i class="fas fa-address-card"></i> Contact</h2>

        <ul>
<% event.contacts.forEach(function(f){ %>
<li><%= f[0] %>: <%= f[1] %></li>
       <% }); %>
     </ul>

<% } %>


<% if(event.fee[0]){ %>
<a href="/register/<%= event.id %>" class="button instagram"><span class="gradient"></span><strong>Register</strong></a>
<% } %>



<% if(events.length>1){ %>


<% var c = category.indexOf("Events")!==-1?category:category + " Events"; %>

<a href="#" onclick="openBar()" class="button instagram more"><span class="gradient"></span><strong>More <%= c %></strong></a>
<% } %>

    </article>
  </main>

<% }); %>



  <!-- jQuery CDN -->
  <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
  <!-- Bootstrap Js CDN -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <script>

    $( document ).ready(function() {
   

     var hash = (window.location.hash).replace('#', '');
    if ((hash.length == 0 || parseInt(hash)<1) || parseInt(hash)><%= events.length %>) {
      console.log(parseInt(hash));
       $('#main_1').css('display', 'block');
       $('#tab_1').addClass('active');
      $("#navcheck").prop('checked', true);
}else{
        console.log(parseInt(hash));

  $("#navcheck").prop('checked', false);
}
    
});


    function closeBar() {
      $("#navcheck").prop('checked', false);
    };

     function openBar() {
      $("#navcheck").prop('checked', true);
    };
  </script>


</body>

</html>
